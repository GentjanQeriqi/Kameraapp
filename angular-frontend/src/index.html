<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AngularFrontend</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="stylechart.css">


<script>
  window.onload = function() {
  
  var dataPoints = [];
  
  var chart = new CanvasJS.Chart("chartContainer", {
    animationEnabled: true,
    theme: "light2",
    title: {
      text: "Charti i Rezolucioneve"
    },
    axisY: {
      title: "Rezolucioni",
      titleFontSize: 24,
      includeZero: true
    },
    data: [{
      type: "column",
      yValueFormatString: "#,### Rezolucioni",
      dataPoints: dataPoints
    }]
  });
  
  function addData(data) {
    dataPoints.length = 0;
    
    // for (var t=0; t<dataPoints.length; t++){

    //   dataPoints.pop(t - 1);

    // }

    for (var i = 0; i < data.length; i++) {
      dataPoints.push({
        
        y: data[i].rezolucioni
      });
    }
    chart.render();
  
  }
  function fetchData(){

  
   var b = setInterval(function ft(){

      $.getJSON("http://localhost:8080/api/kamerat", addData);

    }, 1500);

  }
     fetchData();
  }
  </script>
  </head>





</head>






<body>

  <div id="chartContainer" style="height: 370px; width: 100%;"></div>
  <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

 </div>


</div>
  <app-root></app-root>
</body>
</html>
